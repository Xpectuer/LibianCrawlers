import{_ as e,c as t,o as i,a3 as a}from"./chunks/framework.w8luOYmq.js";const p=JSON.parse('{"title":"项目功能模块化设计与路线图","description":"","frontmatter":{},"headers":[],"relativePath":"develop/roadmap.md","filePath":"develop/roadmap.md","lastUpdated":1759760324000}'),s={name:"develop/roadmap.md"};function c(b,l,r,o,d,u){return i(),t("div",null,l[0]||(l[0]=[a('<h1 id="项目功能模块化设计与路线图" tabindex="-1">项目功能模块化设计与路线图 <a class="header-anchor" href="#项目功能模块化设计与路线图" aria-label="Permalink to &quot;项目功能模块化设计与路线图&quot;">​</a></h1><p>以下是详细的项目功能及进度。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><ul><li><a href="./crawler/start-crawl.html"><strong>爬虫功能模块完成进度</strong></a></li></ul></div><h2 id="爬虫核心-crawler-core" tabindex="-1">爬虫核心 (Crawler Core) <a class="header-anchor" href="#爬虫核心-crawler-core" aria-label="Permalink to &quot;爬虫核心 (Crawler Core)&quot;">​</a></h2><h3 id="浏览器指纹测试" tabindex="-1">浏览器指纹测试 <a class="header-anchor" href="#浏览器指纹测试" aria-label="Permalink to &quot;浏览器指纹测试&quot;">​</a></h3><table tabindex="0"><thead><tr><th>测试平台</th><th>初步测试</th><th>编写测试用例</th></tr></thead><tbody><tr><td><a href="https://www.browserscan.net/" target="_blank" rel="noreferrer">BrowserScan</a></td><td>✔️</td><td></td></tr><tr><td><a href="https://amiunique.org/" target="_blank" rel="noreferrer">Am I Unique</a></td><td></td><td></td></tr><tr><td><a href="https://github.com/abrahamjuliot/creepjs" target="_blank" rel="noreferrer">CreepJS</a></td><td></td><td></td></tr></tbody></table><h3 id="主要功能" tabindex="-1">主要功能 <a class="header-anchor" href="#主要功能" aria-label="Permalink to &quot;主要功能&quot;">​</a></h3><ul><li><p><strong>浏览器自动化 (Playwright + Camoufox)</strong></p><ul class="task-list"><li>自动应用系统代理 <ul><li>在 Windows 上 <ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_0" checked="true" disabled="true"><label for="cbx_0"> 读取注册表 <code>Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Internet Settings</code> 项中的代理协议与地址。</label></li></ul></li></ul></li><li class="task-list-item"><input type="checkbox" id="cbx_1" disabled="true"><label for="cbx_1"> 优化 <code>geoip</code>, <code>proxy-ip</code>, <code>locale</code>, <code>font</code> 的集成逻辑</label><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_2" disabled="true"><label for="cbx_2"> 修复 macOS 上缺少默认中文字体的问题</label></li></ul></li><li class="task-list-item"><input type="checkbox" id="cbx_3" disabled="true"><label for="cbx_3"> 增加对更多反爬虫技术的对抗策略</label><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_4" disabled="true"><label for="cbx_4"> reCAPTCHA / hCaptcha 识别与处理</label></li><li class="task-list-item"><input type="checkbox" id="cbx_5" disabled="true"><label for="cbx_5"> JS 混淆代码（如 akayai）的逆向与模拟执行</label></li></ul></li></ul></li><li><p><strong>网页信息转储 (Dump WebPage)</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_6" checked="true" disabled="true"><label for="cbx_6"> 保存所有 frame 的 HTML 树</label></li><li class="task-list-item"><input type="checkbox" id="cbx_7" checked="true" disabled="true"><label for="cbx_7"> 调用截图功能</label></li><li class="task-list-item"><input type="checkbox" id="cbx_8" checked="true" disabled="true"><label for="cbx_8"> 上传资源 (图片/PDF) 到 MinIO</label></li><li class="task-list-item"><input type="checkbox" id="cbx_9" disabled="true"><label for="cbx_9"> 修复 Firefox (camoufox) <code>Cannot take screenshot larger than 32767</code> 的错误</label></li><li class="task-list-item"><input type="checkbox" id="cbx_10" disabled="true"><label for="cbx_10"> 寻找 Firefox (camoufox) 无法打印网页为 PDF 的替代方案</label></li><li class="task-list-item"><input type="checkbox" id="cbx_11" disabled="true"><label for="cbx_11"> 增加 HAR (HTTP Archive) 文件生成与保存功能</label></li></ul></li><li><p><strong>浏览器事件钩子 (Hook)</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_12" disabled="true"><label for="cbx_12"> Hook 所有 <code>request</code> / <code>response</code></label></li><li class="task-list-item"><input type="checkbox" id="cbx_13" disabled="true"><label for="cbx_13"> Hook 所有 <code>WebSocket</code> 消息</label></li><li class="task-list-item"><input type="checkbox" id="cbx_14" disabled="true"><label for="cbx_14"> Hook 所有页面创建和路由变动</label></li><li class="task-list-item"><input type="checkbox" id="cbx_15" disabled="true"><label for="cbx_15"> Hook <code>JSON.parse()</code> 和 <code>fetch()</code> 的调用与返回</label></li><li class="task-list-item"><input type="checkbox" id="cbx_16" disabled="true"><label for="cbx_16"> Hook <code>Canvas</code> 指纹相关的 API 调用</label></li></ul></li></ul><h2 id="数据处理-data-cleaner" tabindex="-1">数据处理 (Data Cleaner) <a class="header-anchor" href="#数据处理-data-cleaner" aria-label="Permalink to &quot;数据处理 (Data Cleaner)&quot;">​</a></h2><ul><li><strong>数据清洗 (Deno + JSONata)</strong><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_17" checked="true" disabled="true"><label for="cbx_17"> 从 Postgres 读取数据并生成 TypeScript 类型</label></li><li class="task-list-item"><input type="checkbox" id="cbx_18" disabled="true"><label for="cbx_18"> 优化生成的类型，提供更易用的字符串模板常量</label></li><li class="task-list-item"><input type="checkbox" id="cbx_19" checked="true" disabled="true"><label for="cbx_19"> 实现 <code>dev:jsonata</code> 命令以支持 JSONata 模板的热更新和实时预览</label></li></ul></li><li><strong>数据入库</strong><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_20" checked="true" disabled="true"><label for="cbx_20"> 增量更新数据到 Postgres</label></li><li class="task-list-item"><input type="checkbox" id="cbx_21" checked="true" disabled="true"><label for="cbx_21"> 自动化数据库迁移 (Migration)</label></li><li class="task-list-item"><input type="checkbox" id="cbx_22" checked="true" disabled="true"><label for="cbx_22"> 使用 TypeScript 类型确保迁移对象和数据对象的一致性</label></li><li class="task-list-item"><input type="checkbox" id="cbx_23" disabled="true"><label for="cbx_23"> 增加对其他数据存储的支持（如 Elasticsearch, ClickHouse）</label></li><li class="task-list-item"><input type="checkbox" id="cbx_24" disabled="true"><label for="cbx_24"> 建立数据血缘追踪机制，记录数据从采集到入库的全过程</label></li></ul></li></ul><h2 id="任务调度系统-worker-scheduler" tabindex="-1">任务调度系统 (Worker &amp; Scheduler) <a class="header-anchor" href="#任务调度系统-worker-scheduler" aria-label="Permalink to &quot;任务调度系统 (Worker &amp; Scheduler)&quot;">​</a></h2><ul><li><p><strong>任务管理</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_25" disabled="true"><label for="cbx_25"> 实现任务优先级队列</label></li><li class="task-list-item"><input type="checkbox" id="cbx_26" disabled="true"><label for="cbx_26"> 增加任务重试机制与失败策略（如指数退避）</label></li><li class="task-list-item"><input type="checkbox" id="cbx_27" disabled="true"><label for="cbx_27"> 实现分布式锁，防止同一任务被重复执行</label></li><li class="task-list-item"><input type="checkbox" id="cbx_28" disabled="true"><label for="cbx_28"> 支持任务依赖关系定义（DAG）</label></li><li class="task-list-item"><input type="checkbox" id="cbx_29" disabled="true"><label for="cbx_29"> 支持定时任务（Cron Job）</label></li></ul></li><li><p><strong>节点管理</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_30" disabled="true"><label for="cbx_30"> Worker 节点心跳检测与自动重连机制</label></li><li class="task-list-item"><input type="checkbox" id="cbx_31" disabled="true"><label for="cbx_31"> 动态增删 Worker 节点</label></li><li class="task-list-item"><input type="checkbox" id="cbx_32" disabled="true"><label for="cbx_32"> 实现基于节点负载的动态任务分配策略</label></li></ul></li><li><p><strong>日志与历史</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_33" disabled="true"><label for="cbx_33"> 记录完整的任务执行历史与日志</label></li><li class="task-list-item"><input type="checkbox" id="cbx_34" disabled="true"><label for="cbx_34"> 提供按任务 ID 查询日志的接口</label></li><li class="task-list-item"><input type="checkbox" id="cbx_35" disabled="true"><label for="cbx_35"> 日志归档与清理机制</label></li></ul></li></ul><h2 id="前端用户界面-worker-ui" tabindex="-1">前端用户界面 (Worker-UI) <a class="header-anchor" href="#前端用户界面-worker-ui" aria-label="Permalink to &quot;前端用户界面 (Worker-UI)&quot;">​</a></h2><ul><li><p><strong>仪表盘与可视化</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_36" disabled="true"><label for="cbx_36"> 任务管理仪表盘，展示实时任务列表、状态和进度</label></li><li class="task-list-item"><input type="checkbox" id="cbx_37" disabled="true"><label for="cbx_37"> Worker 节点管理面板，展示所有在线节点及其资源占用情况</label></li><li class="task-list-item"><input type="checkbox" id="cbx_38" disabled="true"><label for="cbx_38"> 增加数据可视化图表，展示采集数据的统计信息</label></li></ul></li><li><p><strong>交互功能</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_39" disabled="true"><label for="cbx_39"> 实现手动触发、暂停、恢复、取消任务的功能</label></li><li class="task-list-item"><input type="checkbox" id="cbx_40" disabled="true"><label for="cbx_40"> 提供图形化界面用于创建和编辑 <code>steps/*.json</code> 任务配置文件</label></li><li class="task-list-item"><input type="checkbox" id="cbx_41" disabled="true"><label for="cbx_41"> 对接日志接口，在前端展示任务执行日志</label></li><li class="task-list-item"><input type="checkbox" id="cbx_42" disabled="true"><label for="cbx_42"> 增加系统通知功能（如任务完成、失败告警）</label></li></ul></li><li><p><strong>用户体系</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_43" disabled="true"><label for="cbx_43"> 增加用户认证与会话管理</label></li><li class="task-list-item"><input type="checkbox" id="cbx_44" disabled="true"><label for="cbx_44"> 实现基于角色的访问控制 (RBAC)</label></li></ul></li></ul><h2 id="基础设施与项目维护" tabindex="-1">基础设施与项目维护 <a class="header-anchor" href="#基础设施与项目维护" aria-label="Permalink to &quot;基础设施与项目维护&quot;">​</a></h2><ul><li><p><strong>测试与质量</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_45" disabled="true"><label for="cbx_45"> 提升 <code>data_cleaner_ci</code> 和 <code>libiancrawlers</code> 模块的单元测试与集成测试覆盖率</label></li><li class="task-list-item"><input type="checkbox" id="cbx_46" disabled="true"><label for="cbx_46"> 建立端到端的自动化测试流程</label></li><li class="task-list-item"><input type="checkbox" id="cbx_47" disabled="true"><label for="cbx_47"> 引入代码静态分析工具（Linter）和格式化工具（Formatter）</label></li></ul></li><li><p><strong>可观测性 (Observability)</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_48" disabled="true"><label for="cbx_48"> 引入 <code>Prometheus</code> 和 <code>Grafana</code> 建立更全面的系统监控体系</label></li><li class="task-list-item"><input type="checkbox" id="cbx_49" disabled="true"><label for="cbx_49"> 完善结构化日志，方便日志聚合与查询（如 ELK/Loki）</label></li><li class="task-list-item"><input type="checkbox" id="cbx_50" disabled="true"><label for="cbx_50"> 引入分布式追踪（如 Jaeger, OpenTelemetry）</label></li></ul></li><li><p><strong>部署 (Deployment)</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_51" disabled="true"><label for="cbx_51"> 完善部署文档，提供基于 <code>Docker Compose</code> 的一键部署方案</label></li><li class="task-list-item"><input type="checkbox" id="cbx_52" disabled="true"><label for="cbx_52"> 为各模块创建正式的 <code>Dockerfile</code></label></li><li class="task-list-item"><input type="checkbox" id="cbx_53" disabled="true"><label for="cbx_53"> 提供 Kubernetes (K8s) 部署的 Helm Charts</label></li></ul></li><li><p><strong>文档与社区</strong></p><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_54" disabled="true"><label for="cbx_54"> 补充各核心模块的 API 文档</label></li><li class="task-list-item"><input type="checkbox" id="cbx_55" disabled="true"><label for="cbx_55"> 撰写更详细的开发者贡献指南</label></li><li class="task-list-item"><input type="checkbox" id="cbx_56" disabled="true"><label for="cbx_56"> 建立社区论坛或即时通讯群组</label></li></ul></li></ul>',16)]))}const k=e(s,[["render",c]]);export{p as __pageData,k as default};
