import{_ as t,c as i,o as a,ag as e}from"./chunks/framework.B3HI_LuJ.js";const F=JSON.parse('{"title":"3-启动爬虫","description":"","frontmatter":{},"headers":[],"relativePath":"develop/crawler/start-crawl.md","filePath":"develop/crawler/start-crawl.md","lastUpdated":1750844172000}'),h={name:"develop/crawler/start-crawl.md"};function l(d,s,n,p,k,r){return a(),i("div",null,s[0]||(s[0]=[e('<h1 id="_3-启动爬虫" tabindex="-1">3-启动爬虫 <a class="header-anchor" href="#_3-启动爬虫" aria-label="Permalink to &quot;3-启动爬虫&quot;">​</a></h1><h2 id="爬虫功能模块完成进度" tabindex="-1">爬虫功能模块完成进度 <a class="header-anchor" href="#爬虫功能模块完成进度" aria-label="Permalink to &quot;爬虫功能模块完成进度&quot;">​</a></h2><p>以下是爬虫模块完成进度表。</p><p>常用选项:</p><p><code>--help</code> 可以展示帮助。</p><p><code>--mode</code> 可以设置输出模式。</p><ul><li><strong>缺省值</strong> 是 <code>&#39;save_file&#39;</code> 即保存到本地文件。</li><li><code>&#39;insert_to_db&#39;</code> 表示写入远程数据仓库。</li><li><strong>常用</strong>: <code>&#39;all&#39;</code> 或 <code>&#39;save_file_and_insert_to_db&#39;</code> 表示既保存到本地文件又写入远程数据仓库。</li></ul><p><code>--debug</code> 可以在 发生异常时 或 &quot;debug&quot; 指令时暂停。</p><p><code>--dump_page_ignore_names</code> 用于忽略该名称的 html element。</p><blockquote><p>例如传入 <code>--dump_page_ignore_names=script,svg</code> 可令 dump_page 忽略 script 和 svg 标签及子标签。</p></blockquote><h3 id="淘宝搜索" tabindex="-1">淘宝搜索 <a class="header-anchor" href="#淘宝搜索" aria-label="Permalink to &quot;淘宝搜索&quot;">​</a></h3><table tabindex="0"><thead><tr><th>内容</th><th>爬取</th><th>清洗</th></tr></thead><tbody><tr><td>搜索菜单</td><td>✔️</td><td>todo</td></tr><tr><td>搜索结果的商品详情</td><td>todo</td><td>todo</td></tr><tr><td>商品详情评论区</td><td>todo</td><td>todo</td></tr></tbody></table><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">poetry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smart-crawl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --debug</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://www.taobao.com/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --locale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zh-CN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dump_page_ignore_names=svg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --steps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;jsonfile:steps/taobao-search.json?q=羽绒服&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save_file</span></span></code></pre></div><h3 id="拼多多-mobile-yangkeduo-com-搜索" tabindex="-1">拼多多(mobile.yangkeduo.com)搜索 <a class="header-anchor" href="#拼多多-mobile-yangkeduo-com-搜索" aria-label="Permalink to &quot;拼多多(mobile.yangkeduo.com)搜索&quot;">​</a></h3><table tabindex="0"><thead><tr><th>内容</th><th>爬取</th><th>清洗</th></tr></thead><tbody><tr><td>搜索菜单</td><td>✔️</td><td>todo</td></tr><tr><td>搜索结果的商品详情</td><td>✔️</td><td>✔️</td></tr><tr><td>商品详情评论区</td><td>todo</td><td>todo</td></tr></tbody></table><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">poetry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smart-crawl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --debug</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mobile.yangkeduo.com/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --locale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zh-CN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dump_page_ignore_names=svg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --steps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;jsonfile:steps/yangkeduo-mobile-search.json?q=羽绒服&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save_file</span></span></code></pre></div><h3 id="小红书搜索" tabindex="-1">小红书搜索 <a class="header-anchor" href="#小红书搜索" aria-label="Permalink to &quot;小红书搜索&quot;">​</a></h3><table tabindex="0"><thead><tr><th>内容</th><th>爬取</th><th>清洗</th></tr></thead><tbody><tr><td>搜索菜单</td><td>✔️</td><td>todo</td></tr><tr><td>搜索结果的帖子详情</td><td>✔️</td><td>✔️</td></tr><tr><td>评论区</td><td>todo</td><td>todo</td></tr></tbody></table><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">poetry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smart-crawl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --debug</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://xiaohongshu.com/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --locale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zh-CN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dump_page_ignore_names=script,svg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --steps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;jsonfile:steps/xiaohongshu-search.json?q=丸子头&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save_file</span></span></code></pre></div><h3 id="百度" tabindex="-1">百度 <a class="header-anchor" href="#百度" aria-label="Permalink to &quot;百度&quot;">​</a></h3><table tabindex="0"><thead><tr><th>内容</th><th>爬取</th><th>清洗</th></tr></thead><tbody><tr><td>搜索菜单</td><td>✔️</td><td>✔️</td></tr><tr><td>搜索结果的网站详情</td><td>todo</td><td>todo</td></tr></tbody></table><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">poetry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smart-crawl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --debug</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://baidu.com/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --locale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zh-CN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dump_page_ignore_names=script,svg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --steps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;jsonfile:steps/baidu.json?q=吹风机&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save_file</span></span></code></pre></div><h3 id="知网搜索" tabindex="-1">知网搜索 <a class="header-anchor" href="#知网搜索" aria-label="Permalink to &quot;知网搜索&quot;">​</a></h3><table tabindex="0"><thead><tr><th>内容</th><th>爬取</th><th>清洗</th></tr></thead><tbody><tr><td>搜索菜单</td><td>✔️</td><td>todo</td></tr><tr><td>搜索结果的文献详情</td><td>✔️</td><td>✔️</td></tr><tr><td>文献的期刊详情</td><td>✔️</td><td>✔️</td></tr></tbody></table><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">poetry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smart-crawl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --debug</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://cnki.net/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --locale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zh-CN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dump_page_ignore_names=script,svg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --steps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;jsonfile:steps/cnki-search.json?q=肺动脉高压&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save_file</span></span></code></pre></div><h3 id="entrez-库搜索" tabindex="-1">Entrez 库搜索 <a class="header-anchor" href="#entrez-库搜索" aria-label="Permalink to &quot;Entrez 库搜索&quot;">​</a></h3><table tabindex="0"><thead><tr><th>内容</th><th>爬取</th><th>清洗</th></tr></thead><tbody><tr><td>查询论文</td><td>✔️</td><td>✔️</td></tr></tbody></table><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">poetry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> api-crawl-entrezapi-search</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --page_max</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --keywords</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Pulmonary hypertension&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save_file</span></span></code></pre></div><h3 id="千牛网页端聊天记录导出" tabindex="-1">千牛网页端聊天记录导出 <a class="header-anchor" href="#千牛网页端聊天记录导出" aria-label="Permalink to &quot;千牛网页端聊天记录导出&quot;">​</a></h3><table tabindex="0"><thead><tr><th>内容</th><th>爬取</th><th>清洗</th></tr></thead><tbody><tr><td>聊天记录</td><td>✔️</td><td>✔️</td></tr></tbody></table><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">poetry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smart-crawl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --debug</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://qn.taobao.com/home.htm/app-customer-service/toolpage/Message</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --locale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zh-CN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dump_page_ignore_names=script,svg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --steps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;jsonfile:steps/qianniu-message-export.json?start=now&amp;step=-1&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save_file</span></span></code></pre></div><p>参数 <code>start</code> 可以传入 <code>now</code> 或 <code>2025-5-25</code> 这种日期格式。</p><h3 id="embase-及镜像站搜索并下载" tabindex="-1">Embase 及镜像站搜索并下载 <a class="header-anchor" href="#embase-及镜像站搜索并下载" aria-label="Permalink to &quot;Embase 及镜像站搜索并下载&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">poetry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smart-crawl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --debug</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;可改为二道贩子跳板网站地址以便手动登录&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --locale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zh-CN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dump_page_ignore_names=script,svg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --steps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;jsonfile:steps/embase-search.json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save_file</span></span></code></pre></div><table tabindex="0"><thead><tr><th>内容</th><th>下载导出的csv</th><th>读取csv并入库</th><th>清洗</th></tr></thead><tbody><tr><td>聊天记录</td><td>✔️</td><td>✔️</td><td>✔️</td></tr></tbody></table><h3 id="wos-journal-期刊信息查询" tabindex="-1">wos-journal 期刊信息查询 <a class="header-anchor" href="#wos-journal-期刊信息查询" aria-label="Permalink to &quot;wos-journal 期刊信息查询&quot;">​</a></h3><p>将下方的 <code>--keys&quot;</code> 改为你自己的 issn 字符串数组的 json 文件位置， 你可以使用 <code>--key2url_jsfunc</code> 传入 js 函数（仅支持 es5 语法）来映射 key 到 url 。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">poetry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> smart-crawl-urls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --keys</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;jsonfile:data_cleaner_ci/user_code/journals_need_search/issn.json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --key2url_jsfunc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;function(k){return &#39;https://wos-journal.info/?jsearch=&#39;+k.split(&#39; &#39;).join(&#39;+&#39;)}&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --locale</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zh-CN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save_file</span></span></code></pre></div><table tabindex="0"><thead><tr><th>内容</th><th>爬取</th><th>清洗</th></tr></thead><tbody><tr><td>批量查询</td><td>✔️</td><td>✔️</td></tr></tbody></table>',39)]))}const g=t(h,[["render",l]]);export{F as __pageData,g as default};
